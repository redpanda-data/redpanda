language: c

compiler:
  - gcc

branches:
  only:
    - master
    - release/*

git:
   submodules: true

env:
  global:
    - CI: "true"

build:
  pre_ci:
    - apt-get install python3
  ci:
    - |
      python3 tools/build.py --deps=true --targets=all --build=release --log=debug --fmt=false
  advancedReporting: true

integrations:
  notifications:
    - integrationName: email
      type: email
      recipients:
        - v-dev@vectorized.io
      on_cancel: never
      sendFailingSnippet: true
