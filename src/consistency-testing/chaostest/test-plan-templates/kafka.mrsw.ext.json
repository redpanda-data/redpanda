{
    "endpoints": [
        {
            "host": "527.0.0.1",
            "httpport": 8888,
            "id": "endpoint0",
            "idx": 0,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "start_api_script": "sudo -b nohup python3 /home/ubuntu/control/kafkakv.py --acks '\"all\"' --topic topic1 --inflight-limit 36 --err /home/ubuntu/kafkakv0_err.log --log /home/ubuntu/kafkakv0.log --port 8888 --broker 427.0.0.1:9092 --broker 427.0.0.2:9092 --broker 427.0.0.3:9092 > /dev/null 2>&1 < /dev/null &",
            "kill_api_script": "sudo /home/ubuntu/control/redpanda/kill-api.sh",
            "rm_api_log_script": "sudo rm -f /home/ubuntu/kafkakv.log*"
        },
        {
            "host": "527.0.0.1",
            "httpport": 8889,
            "id": "endpoint1",
            "idx": 1,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "start_api_script": "sudo -b nohup python3 /home/ubuntu/control/kafkakv.py --acks '\"all\"' --topic topic1 --inflight-limit 36 --err /home/ubuntu/kafkakv1_err.log --log /home/ubuntu/kafkakv1.log --port 8889 --broker 427.0.0.1:9092 --broker 427.0.0.2:9092 --broker 427.0.0.3:9092 > /dev/null 2>&1 < /dev/null &",
            "kill_api_script": "sudo /home/ubuntu/control/redpanda/kill-api.sh",
            "rm_api_log_script": "sudo rm -f /home/ubuntu/kafkakv.log*"
        },
        {
            "host": "527.0.0.1",
            "httpport": 8890,
            "id": "endpoint2",
            "idx": 2,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "start_api_script": "sudo -b nohup python3 /home/ubuntu/control/kafkakv.py --acks '\"all\"' --topic topic1 --inflight-limit 36 --err /home/ubuntu/kafkakv2_err.log --log /home/ubuntu/kafkakv2.log --port 8890 --broker 427.0.0.1:9092 --broker 427.0.0.2:9092 --broker 427.0.0.3:9092 > /dev/null 2>&1 < /dev/null &",
            "kill_api_script": "sudo /home/ubuntu/control/redpanda/kill-api.sh",
            "rm_api_log_script": "sudo rm -f /home/ubuntu/kafkakv.log*"
        }
    ],
    "nodes": [
        {
            "id": "node0",
            "host": "427.0.0.1",
            "ioport": 10314,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "kill_script": "sudo /home/ubuntu/control/kafka/kill-service.sh",
            "wipeout_script": "sudo /home/ubuntu/control/kafka/wipe-out.sh",
            "prepdirs_script": "sudo /home/ubuntu/control/kafka/prep-dirs.sh",
            "is_active_script": "sudo /home/ubuntu/control/kafka/is-service-running.sh",
            "start_script": "sudo -b nohup /home/ubuntu/control/kafka/start-service.sh > /home/ubuntu/redpanda.log 2>&1 < /dev/null &",
            "pause_script": "sudo /home/ubuntu/control/kafka/pause-service.sh",
            "continue_script": "sudo /home/ubuntu/control/kafka/continue-service.sh",
            "isolate_script": "sudo /home/ubuntu/control/kafka/isolate-bi.sh",
            "rejoin_script": "sudo /home/ubuntu/control/kafka/rejoin-bi.sh",
            "io_ruin_script": "sudo /home/ubuntu/control/kafka/iofault.ruin.sh",
            "io_delay_script": "sudo /home/ubuntu/control/kafka/iofault.delay.sh",
            "io_recover_script": "sudo /home/ubuntu/control/kafka/iofault.recover.sh",
            "mount_script": "sudo -b nohup /home/ubuntu/control/kafka/iofault.mount.sh > /home/ubuntu/pass2.log 2>&1 < /dev/null &",
            "umount_script": "sudo /home/ubuntu/control/kafka/iofault.umount.sh",
            "create_topic_script": "/opt/kafka_2.12-2.6.0/bin/kafka-topics.sh --create --topic topic1 --partitions 1 --replication-factor 3 --bootstrap-server 427.0.0.1:9092",
            "strobe_start_api_script": "sudo -b nohup python3 /home/ubuntu/control/strobe.py --port 9094 --storage /home/ubuntu/strobe.json --log /home/ubuntu/strobe.log > /home/ubuntu/strobe.out.log 2>&1 < /dev/null &",
            "strobe_kill_api_script": "sudo /home/ubuntu/control/kafka/strobe.kill.sh",
            "strobe_recover_script": "sudo /home/ubuntu/control/kafka/strobe.recover.sh",
            "strobe_inject_script": "sudo /home/ubuntu/control/kafka/strobe.inject.sh 200000 1000",
            "meta_script": "kafkacat -L -b 427.0.0.1 -t topic1 -J",
            "start_zookeeper_script": "sudo -b nohup /opt/apache-zookeeper-3.6.2-bin/bin/zkServer.sh start-foreground > /home/ubuntu/zookeeper.log 2>&1 < /dev/null &",
            "start_kafka_script": "sudo -b nohup /opt/kafka_2.12-2.6.0/bin/kafka-server-start.sh /opt/kafka_2.12-2.6.0/config/server.properties > /home/ubuntu/kafka.log 2>&1 < /dev/null &",
            "kill_kafka_script": "sudo /home/ubuntu/control/kafka/kill-kafka.sh",
            "kill_zookeeper_script": "sudo /home/ubuntu/control/kafka/kill-zookeeper.sh",
            "zookeeper_config": {
                "path": "/opt/apache-zookeeper-3.6.2-bin/conf/zoo.cfg",
                "dataDir": "/mnt/vectorized/front/zookeeper",
                "server1": "0.0.0.0:2888:3888",
                "server2": "427.0.0.2:2888:3888",
                "server3": "427.0.0.3:2888:3888",
                "id": 1
            },
            "kafka_config": {
                "path": "/opt/kafka_2.12-2.6.0/config/server.properties",
                "logDirs": "/mnt/vectorized/front/kafka",
                "zookeeper": "427.0.0.1:2181,427.0.0.2:2181,427.0.0.3:2181",
                "ip": "427.0.0.1:9092",
                "id": 4
            }
        },
        {
            "id": "node1",
            "host": "427.0.0.2",
            "ioport": 10315,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "kill_script": "sudo /home/ubuntu/control/kafka/kill-service.sh",
            "wipeout_script": "sudo /home/ubuntu/control/kafka/wipe-out.sh",
            "prepdirs_script": "sudo /home/ubuntu/control/kafka/prep-dirs.sh",
            "is_active_script": "sudo /home/ubuntu/control/kafka/is-service-running.sh",
            "start_script": "sudo -b nohup /home/ubuntu/control/kafka/start-service.sh > /home/ubuntu/redpanda.log 2>&1 < /dev/null &",
            "pause_script": "sudo /home/ubuntu/control/kafka/pause-service.sh",
            "continue_script": "sudo /home/ubuntu/control/kafka/continue-service.sh",
            "isolate_script": "sudo /home/ubuntu/control/kafka/isolate-bi.sh",
            "rejoin_script": "sudo /home/ubuntu/control/kafka/rejoin-bi.sh",
            "io_ruin_script": "sudo /home/ubuntu/control/kafka/iofault.ruin.sh",
            "io_delay_script": "sudo /home/ubuntu/control/kafka/iofault.delay.sh",
            "io_recover_script": "sudo /home/ubuntu/control/kafka/iofault.recover.sh",
            "mount_script": "sudo -b nohup /home/ubuntu/control/kafka/iofault.mount.sh > /home/ubuntu/pass2.log 2>&1 < /dev/null &",
            "umount_script": "sudo /home/ubuntu/control/kafka/iofault.umount.sh",
            "create_topic_script": "/opt/kafka_2.12-2.6.0/bin/kafka-topics.sh --create --topic topic1 --partitions 1 --replication-factor 3 --bootstrap-server 427.0.0.2:9092",
            "strobe_start_api_script": "sudo -b nohup python3 /home/ubuntu/control/strobe.py --port 9094 --storage /home/ubuntu/strobe.json --log /home/ubuntu/strobe.log > /home/ubuntu/strobe.out.log 2>&1 < /dev/null &",
            "strobe_kill_api_script": "sudo /home/ubuntu/control/kafka/strobe.kill.sh",
            "strobe_recover_script": "sudo /home/ubuntu/control/kafka/strobe.recover.sh",
            "strobe_inject_script": "sudo /home/ubuntu/control/kafka/strobe.inject.sh 200000 1000",
            "meta_script": "kafkacat -L -b 427.0.0.2 -t topic1 -J",
            "start_zookeeper_script": "sudo -b nohup /opt/apache-zookeeper-3.6.2-bin/bin/zkServer.sh start-foreground > /home/ubuntu/zookeeper.log 2>&1 < /dev/null &",
            "start_kafka_script": "sudo -b nohup /opt/kafka_2.12-2.6.0/bin/kafka-server-start.sh /opt/kafka_2.12-2.6.0/config/server.properties > /home/ubuntu/kafka.log 2>&1 < /dev/null &",
            "kill_kafka_script": "sudo /home/ubuntu/control/kafka/kill-kafka.sh",
            "kill_zookeeper_script": "sudo /home/ubuntu/control/kafka/kill-zookeeper.sh",
            "zookeeper_config": {
                "path": "/opt/apache-zookeeper-3.6.2-bin/conf/zoo.cfg",
                "dataDir": "/mnt/vectorized/front/zookeeper",
                "server1": "427.0.0.1:2888:3888",
                "server2": "0.0.0.0:2888:3888",
                "server3": "427.0.0.3:2888:3888",
                "id": 2
            },
            "kafka_config": {
                "path": "/opt/kafka_2.12-2.6.0/config/server.properties",
                "logDirs": "/mnt/vectorized/front/kafka",
                "zookeeper": "427.0.0.1:2181,427.0.0.2:2181,427.0.0.3:2181",
                "ip": "427.0.0.2:9092",
                "id": 5
            }
        },
        {
            "id": "node2",
            "host": "427.0.0.3",
            "ioport": 10316,
            "ssh_key": "/home/ubuntu/aws-cluster",
            "ssh_user": "ubuntu",
            "kill_script": "sudo /home/ubuntu/control/kafka/kill-service.sh",
            "prepdirs_script": "sudo /home/ubuntu/control/kafka/prep-dirs.sh",
            "wipeout_script": "sudo /home/ubuntu/control/kafka/wipe-out.sh",
            "is_active_script": "sudo /home/ubuntu/control/kafka/is-service-running.sh",
            "start_script": "sudo -b nohup /home/ubuntu/control/kafka/start-service.sh > /home/ubuntu/redpanda.log 2>&1 < /dev/null &",
            "pause_script": "sudo /home/ubuntu/control/kafka/pause-service.sh",
            "continue_script": "sudo /home/ubuntu/control/kafka/continue-service.sh",
            "isolate_script": "sudo /home/ubuntu/control/kafka/isolate-bi.sh",
            "rejoin_script": "sudo /home/ubuntu/control/kafka/rejoin-bi.sh",
            "io_ruin_script": "sudo /home/ubuntu/control/kafka/iofault.ruin.sh",
            "io_delay_script": "sudo /home/ubuntu/control/kafka/iofault.delay.sh",
            "io_recover_script": "sudo /home/ubuntu/control/kafka/iofault.recover.sh",
            "mount_script": "sudo -b nohup /home/ubuntu/control/kafka/iofault.mount.sh > /home/ubuntu/pass2.log 2>&1 < /dev/null &",
            "umount_script": "sudo /home/ubuntu/control/kafka/iofault.umount.sh",
            "create_topic_script": "/opt/kafka_2.12-2.6.0/bin/kafka-topics.sh --create --topic topic1 --partitions 1 --replication-factor 3 --bootstrap-server 427.0.0.3:9092",
            "strobe_start_api_script": "sudo -b nohup python3 /home/ubuntu/control/strobe.py --port 9094 --storage /home/ubuntu/strobe.json --log /home/ubuntu/strobe.log > /home/ubuntu/strobe.out.log 2>&1 < /dev/null &",
            "strobe_kill_api_script": "sudo /home/ubuntu/control/kafka/strobe.kill.sh",
            "strobe_recover_script": "sudo /home/ubuntu/control/kafka/strobe.recover.sh",
            "strobe_inject_script": "sudo /home/ubuntu/control/kafka/strobe.inject.sh 200000 1000",
            "meta_script": "kafkacat -L -b 427.0.0.3 -t topic1 -J",
            "start_zookeeper_script": "sudo -b nohup /opt/apache-zookeeper-3.6.2-bin/bin/zkServer.sh start-foreground > /home/ubuntu/zookeeper.log 2>&1 < /dev/null &",
            "start_kafka_script": "sudo -b nohup /opt/kafka_2.12-2.6.0/bin/kafka-server-start.sh /opt/kafka_2.12-2.6.0/config/server.properties > /home/ubuntu/kafka.log 2>&1 < /dev/null &",
            "kill_kafka_script": "sudo /home/ubuntu/control/kafka/kill-kafka.sh",
            "kill_zookeeper_script": "sudo /home/ubuntu/control/kafka/kill-zookeeper.sh",
            "zookeeper_config": {
                "path": "/opt/apache-zookeeper-3.6.2-bin/conf/zoo.cfg",
                "dataDir": "/mnt/vectorized/front/zookeeper",
                "server1": "427.0.0.1:2888:3888",
                "server2": "427.0.0.2:2888:3888",
                "server3": "0.0.0.0:2888:3888",
                "id": 3
            },
            "kafka_config": {
                "path": "/opt/kafka_2.12-2.6.0/config/server.properties",
                "logDirs": "/mnt/vectorized/front/kafka",
                "zookeeper": "427.0.0.1:2181,427.0.0.2:2181,427.0.0.3:2181",
                "ip": "427.0.0.3:9092",
                "id": 6
            }
        }
    ],
    "workload": {
        "name": "mrsw"
    },
    "system": "kafka",
    "scenario": "inject-recover",
    "exit_on_violation": false,
    "reset_before_test": true,
    "destroy_on_exit": true,
    "output": "kafka",
    "writers": 3,
    "readers": 3,
    "warmup": 60,
    "verbose": true,
    "cluster_warmup": 30,
    "exploitation": 60,
    "cooldown": 120,
    "ss_metrics": ["send_us", "catchup_us"],
    "cmd_log": "cmd.log",
    "latency_log": "lat.log",
    "availability_log": "1s.log",
    "faults": [
        "baseline",
        "terminate.leader",
        "terminate.follower",
        "suspend.leader",
        "suspend.follower",
        "isolate.leader",
        "isolate.follower",
        "io10ms.leader",
        "io10ms.follower",
        "iofail.leader",
        "iofail.follower",
        "strobe.leader",
        "strobe.follower",
        "fsync10ms.leader",
        "fsync10ms.follower"
    ]
}
