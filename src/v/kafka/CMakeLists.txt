set(request_srcs
  requests/requests.cc
  requests/api_versions_request.cc
  requests/metadata_request.cc
  requests/list_groups_request.cc
  requests/find_coordinator_request.cc
  requests/offset_fetch_request.cc
  requests/kafka_batch_adapter.cc
  requests/produce_request.cc
  requests/list_offsets_request.cc
  requests/fetch_request.cc
  requests/join_group_request.cc
  requests/heartbeat_request.cc
  requests/leave_group_request.cc
  requests/sync_group_request.cc
  requests/create_topics_request.cc
  requests/offset_commit_request.cc)

set(group_srcs
  groups/member.cc
  groups/group.cc
  groups/group_manager.cc)

v_cc_library(
  NAME kafka
  SRCS
    ${request_srcs}
    ${group_srcs}
    errors.cc
    protocol.cc
    protocol_utils.cc
 DEPS
    Seastar::seastar
    v::bytes
    v::rpc
    v::cluster
    absl::flat_hash_map
    absl::flat_hash_set
)
add_subdirectory(tests)
