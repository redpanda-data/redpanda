v_cc_library(
  NAME rpc
  SRCS
    types.cc
    netbuf.cc
    server.cc
    transport.cc
    connection.cc
    batched_output_stream.cc
    probes.cc
    logger.cc
    reconnect_transport.cc
    connection_cache.cc
    simple_protocol.cc
    dns.cc
    tls.cc
  DEPS
    Seastar::seastar
    v::bytes
    v::rphashing
    v::utils
    v::reflection
    absl::flat_hash_map
    v::compression
  )
add_subdirectory(test)
add_subdirectory(demo)
